pkgname=android-headers-7.1
_pkgname=android-headers
pkgver=7.1
pkgrel=1
arch="noarch"
url="https://github.com/Halium/android-headers"
license="Apache"
makedepends=""
depends=""
_rev=1f6591ba7d42b91c32acf5a65a2a4fae983d6865
source="$pkgname-$_rev.tar.gz::https://github.com/Halium/android-headers/archive/$_rev.tar.gz"
pkgdesc="Android headers used for building libhybris"
subpackages="$pkgname-caf:package_caf"

builddir="$srcdir/$_pkgname-$_rev"

package() {
  cd "$builddir"
  make PREFIX=/usr DESTDIR="${pkgdir}" install
}


package_caf() {
  cd "$builddir"

  sed -i 's~/\* CONFIG GOES HERE \*/~#define QCOM_BSP 1\n#define QTI_BSP 1~g' android-config.h

  make PREFIX=/usr DESTDIR="${subpkgdir}" install
}

sha512sums="652641b469f7faf90c7adf03b14047f9eb24fdb190d9ab131d72f73b2d9357aad80cad48867ede66b0a737661cfb9e26fb4583b9fed15b8d6d667fe53ea14419  android-headers-7.1-1f6591ba7d42b91c32acf5a65a2a4fae983d6865.tar.gz"
